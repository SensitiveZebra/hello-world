# 命名规则
1. 尽量使用英文
2. 变量名采用小驼峰命名；结构体采用大驼峰命名以区别一般变量；常数（包括全局变量）采用大写下划线命名，可以以通用类型名作为前缀，例如COLOR_RED；函数名采用小写下划线命名，且将函数名与它的m文件名保存为相同；
3. 通常的大写缩写，也应该大小写字母混合使用，of等介词首字母也该大写
4. 大范围的变量应该带有意义的名称，小范围的变量可以用短变量名。例如：stepSize：大范围意义    dt：小范围
5. 表示object的总数量的时候，用n做前缀，如 nFiles。
6. 循环变量按顺序以i,j,k为前缀 例如，iFiles, jPositions。不使用i,j。嵌套循环示例 for iFile = 1：nFiles   for jPosition = 1：nPositions …  
4. 前缀get访问，set设置，compute计算，find查询，initialize初始化，is布尔函数
5. 有时候我们取的名字，可能在MATLAB中含有这个函数名了，可以用exist检查是否含有了。
# 文件与程序结构
## M文件
1. 模块化编写 超过编辑器两屏幕的代码都应该考虑进行分割。
3. 采用结构可以避免那种一长串儿的输入输出参数的形式。
4. 所有的子函数和所有的函数都应该只把一件事情做好。
5. 只被另外一个函数调用的函数应该作为一个子函数写在同一个文件中。不用单独写成一个m文件。
6. 为每一个函数写一个测试脚本。这样可以提高初期版本的质量和改进版本的可靠性。
## 基本语句
1. 同种类型的相近的变量可以在同一个语句中定义
2. 在文件开始部分的注释中为重要变量编写文档，MATLAB不需要变量申明，这种信息就可以在注释中提供。示例：％pointArray Points are in rows with coordinates in columns.
3. 注意在语句行注释的最后为常数 编写文档示例： THRESHOLD = 10；％Maximumnoise level found by experiment。 
4. 应该尽量少地使用全局变量
## 循环语句
1. 循环变量应该在循环开始前立即被赋值。这可以提高循环的速度，有助于防止循环没有执行所有的可能索引而产生的虚假值。
2. 在循环中应该尽量少用break与 continue这些结构可以与goto 相比较，只有当他们可以证明用这些结构可以比他们相应的结构化部分有更好的可读性的时候，才可以使用。
3. 在嵌套式循环的时候应该在end行加上注释，有助于弄明白哪些语句在那个循环体内、在此处之前已经完成了哪些功能。
 ## 条件语句
1. 避免复杂的条件判断，用单独的布尔变量进行替代。通过对表达式指定布尔变量，使得程序更能够自为文档，易于阅读调试。示例：避免使用：if（value>=lowerLimit）& (values<=upperLimit)&~ismember(value,valueArray) 而应该用如下的方式代替：isValid = （value=lowerLimit）& (values<=upperLimit)；isNew =~ismember(value,valueArray)if ( isValid &isNew)
2. 在if else 结构的时候，发生较频繁的事件应该放在if 部分，例外情况放在else部分
3. 一个 switch语句应该包含otherwise条件将otherwise情况遗漏在外是一种通常错误，这或许会导致不可预测结果  
4. switch 变量应该通常是字符串 字符串在这种情况下能够很有效，通常他们比采用列举值的形式意义更丰富。
## 其他
5. 尽量在表达式中少用数字。可能会改变的数字应该用常数代替。
6. clc;clear;close all 在一般的M文件开头，写这三个东西，可以初始化MATLAB，把打开的表，工作空间清理。 
# 排版、注释与文档
## 排版
1. 应该将代码内容控制在前80列之内。MATLAB的M文件编排，有这个线提示。
2. 基本缩排应该是4个空格
3. 短的单个if，for 或者while语句可以写在一行。
4. 空白空格  在 =，&，与| 前后加上空格，其他常规的操作符（+-等）两边不加空格。
5. 逗号后面可以加上空格，为了避免切分行也可以不加。
6. 分号或者同一行多条指令的逗号之后应该加上一个空格字符空格加强可读性。
7. 关键字后面应该加上空格这种方式有助于区分关键字与函数。
8. 块内部的逻辑组语句间通过一个空白行来分隔
9. 块之间采用双注释符号加空格后面跟多个星号或-。
10. 通过排列成行列整齐的方式来加强可读性
## 注释
1. 文件中所有重要变量的注释全部放在文件的开头。注释的典型应用是解释用法、提供参考信息、证明结果、阐述需要的改进等。
2. 经验表明，在写代码的同时就加上注释比后来再补充注释要好。
3. 一个通常更重要的是注释应该讲的是“为什么”（Why）和“怎么做”（how），而不是“是什么”（what）
4. 函数的注释写法如下例子：功能：  求圆孔的夫琅禾费衍射光强分布% 参数：  CircleHoleFD为圆孔结构体，包含圆孔衍射相关信息；%          theta为衍射场的次波方向，可以为向量，求取各方向的光强% 返回值： I为衍射光强分布% 主要思路：使用夫琅禾费单缝衍射公式计算% 备注：   入射角只考虑一个维度的% 调用方法：见CalcCircleHoleFD_Test文件% 日期：   2011/7/12 20:37%================================================================function I =CalcCircleHoleFD(CircleHoleFD, theta)。。。
5. 函数开头的注释应该支持 help和lookfor。
6. 常量的赋值注释现在那句赋值语句的后面。
## 文档
文档规范化作为有用的文档应该包含一个对如下内容的可读性的描述：代码打算干什么（要求），它是如何工作的（设计），它依赖于什其他什么函数以及怎么被其他代码调用（接口），以及它是如何测试的等。对于额外的考虑，文档可以包含解决方案的选择性的讨论以及扩展与维护的建议。
首先考虑书写文档一些程序员相信的方法是：“代码第一，回答问题是以后的事情。”而通过经验，我们绝大多数人知道先开发设计然后再实现可以导致更加满意的结果。如果将测试与文档留在最后，那么开发项目几乎不能够按期完成的。首先书写文档可以确保其按时完成甚至可能减少开发时间。
修改一个专业的对代码修改进行管理和写文档的方法是采用源程序控制工具。对于很简单的工程，在函数文件的注释中加入修改历史比什么都不做要好。
